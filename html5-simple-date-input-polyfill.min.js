(function(){"use strict";function CalendarExtender(theInput,i18n){if(!(this instanceof CalendarExtender)){return new CalendarExtender(theInput)}var self=this;this.theInput=theInput;this.container=null;this.theCalDiv=null;this.selectedDate=new Date;this.init=function(){this.setMonthNames(i18n&&i18n.monthNames);this.setWeekDaysAbbreviated(i18n&&i18n.weekDaysAbbreviated);this.getDateFromInput();this.createCal()};this.getDateFromInput=function(){if(this.theInput.value){var possibleNewDate=new Date(this.theInput.value);if(Date.parse(this.theInput.value)&&possibleNewDate.toDateString()!==this.selectedDate.toDateString()){this.selectedDate=possibleNewDate;return true}}return false};this.createCal=function(){this.container=document.createElement("div");this.container.className="calendarContainer";this.container.style.display="inline-block";this.theInput.parentNode.replaceChild(this.container,this.theInput);this.container.appendChild(this.theInput);this.theCalDiv=document.createElement("div");this.theCalDiv.className="calendar";this.theCalDiv.style.display="none";this.container.appendChild(this.theCalDiv);this.creathYearAndMonthSelects();this.createMonthTable();this.theInput.addEventListener("focus",function(){self.theCalDiv.style.display=""});this.theInput.addEventListener("mouseup",function(){self.theCalDiv.style.display=""});this.theInput.addEventListener("mousedown",function(){self.theCalDiv.style.display=""});this.theInput.addEventListener("keyup",function(){if(self.getDateFromInput()){self.updateSelecteds()}});document.addEventListener("click",function(e){if(e.target.parentNode!==self.container&&e.target.parentNode.parentNode!==self.container&&e.target.parentNode.parentNode!==self.theCalDiv){self.theCalDiv.style.display="none"}})};this.creathYearAndMonthSelects=function(){var yearSelect=this.createRangeSelect((new Date).getFullYear()-80,(new Date).getFullYear()+20,this.selectedDate.getFullYear());yearSelect.className="yearSelect";this.theCalDiv.appendChild(yearSelect);yearSelect.addEventListener("change",function(){self.selectedDate.setYear(this.value);self.selectDate();self.createMonthTable();self.theInput.focus()});var monthSelect=this.createRangeSelect(0,11,this.selectedDate.getMonth(),this.monthNames);monthSelect.className="monthSelect";this.theCalDiv.appendChild(monthSelect);monthSelect.addEventListener("change",function(){self.selectedDate.setMonth(this.value);self.selectDate();self.createMonthTable();self.theInput.focus()})};this.updateSelecteds=function(){this.theCalDiv.querySelector(".yearSelect").value=this.selectedDate.getFullYear();this.theCalDiv.querySelector(".monthSelect").value=this.selectedDate.getMonth();this.createMonthTable()};this.setWeekDaysHeader=function(){this.weekDaysHeader=this.weekDaysAbbreviated.reduce(function(_,wd){var th=document.createElement("th");th.textContent=wd;_.appendChild(th);return _},document.createElement("tr"))};this.setWeekDaysAbbreviated=function(weekDaysAbbrev){this.weekDaysAbbreviated=weekDaysAbbrev||["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];this.setWeekDaysHeader()};this.setMonthNames=function(monthNames){this.monthNames=monthNames||["January","February","March","April","May","June","July","August","September","October","November","December"]};this.createMonthTable=function(){var year=this.selectedDate.getFullYear();var month=this.selectedDate.getMonth();var startDay=new Date(year,month,1).getDay();var maxDays=new Date(this.selectedDate.getFullYear(),month+1,0).getDate();var oldTables=this.theCalDiv.getElementsByTagName("table");if(oldTables.length>0){this.theCalDiv.removeChild(oldTables[0])}var theTable=document.createElement("table");theTable.appendChild(this.weekDaysHeader.cloneNode(true));this.theCalDiv.appendChild(theTable);var aRow;var aCell;for(var cellNum=0;cellNum<maxDays+startDay;cellNum++){if(cellNum%7===0){aRow=theTable.insertRow(-1)}aCell=aRow.insertCell(-1);if(cellNum+1>startDay){var dayNum=cellNum+1-startDay;aCell.textContent=dayNum;if(dayNum===this.selectedDate.getDate()){aCell.className="selected"}aCell.addEventListener("click",function(){self.theCalDiv.querySelector(".selected").className="";this.className="selected";self.selectedDate.setDate(parseInt(this.textContent));self.selectDate();self.theInput.focus()})}}};this.selectDate=function(){var monthText=this.selectedDate.getMonth()+1;if(monthText<10){monthText="0"+monthText}var dayText=this.selectedDate.getDate();if(dayText<10){dayText="0"+dayText}this.theInput.value=""+this.selectedDate.getFullYear()+"-"+monthText+"-"+dayText+"";var fakeEvent=document.createEvent("KeyboardEvent");fakeEvent.initEvent("change",true,false);this.theInput.dispatchEvent(fakeEvent)};this.createRangeSelect=function(min,max,selected,namesArray){var aOption;var curNum;var theText;var theSelect=document.createElement("select");for(curNum=min;curNum<=max;curNum++){aOption=document.createElement("option");theSelect.appendChild(aOption);if(namesArray){theText=namesArray[curNum-min]}else{theText=curNum}aOption.text=theText;aOption.value=curNum;if(curNum===selected){aOption.selected=true}}return theSelect};this.init()}function checkDateInputSupport(){var input=document.createElement("input");input.setAttribute("type","date");var notADateValue="not-a-date";input.setAttribute("value",notADateValue);return!(input.value===notADateValue)}function addCalendarExtenderToDateInputs(i18n){var dateInputs=document.querySelectorAll("input[type=date]:not(.haveCal)");[].forEach.call(dateInputs,function(dateInput){CalendarExtender(dateInput,i18n);dateInput.classList.add("haveCal")})}if(!checkDateInputSupport()&&typeof window.orientation==="undefined"){addCalendarExtenderToDateInputs();document.querySelector("body").addEventListener("mousedown",function(event){addCalendarExtenderToDateInputs()})}window.CalendarExtender=CalendarExtender})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWw1LXNpbXBsZS1kYXRlLWlucHV0LXBvbHlmaWxsLmpzIl0sIm5hbWVzIjpbIkNhbGVuZGFyRXh0ZW5kZXIiLCJ0aGVJbnB1dCIsImkxOG4iLCJ0aGlzIiwic2VsZiIsImNvbnRhaW5lciIsInRoZUNhbERpdiIsInNlbGVjdGVkRGF0ZSIsIkRhdGUiLCJpbml0Iiwic2V0TW9udGhOYW1lcyIsIm1vbnRoTmFtZXMiLCJzZXRXZWVrRGF5c0FiYnJldmlhdGVkIiwid2Vla0RheXNBYmJyZXZpYXRlZCIsImdldERhdGVGcm9tSW5wdXQiLCJjcmVhdGVDYWwiLCJ2YWx1ZSIsInBvc3NpYmxlTmV3RGF0ZSIsInBhcnNlIiwidG9EYXRlU3RyaW5nIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJkaXNwbGF5IiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImFwcGVuZENoaWxkIiwiY3JlYXRoWWVhckFuZE1vbnRoU2VsZWN0cyIsImNyZWF0ZU1vbnRoVGFibGUiLCJhZGRFdmVudExpc3RlbmVyIiwidXBkYXRlU2VsZWN0ZWRzIiwiZSIsInRhcmdldCIsInllYXJTZWxlY3QiLCJjcmVhdGVSYW5nZVNlbGVjdCIsImdldEZ1bGxZZWFyIiwic2V0WWVhciIsInNlbGVjdERhdGUiLCJmb2N1cyIsIm1vbnRoU2VsZWN0IiwiZ2V0TW9udGgiLCJzZXRNb250aCIsInF1ZXJ5U2VsZWN0b3IiLCJzZXRXZWVrRGF5c0hlYWRlciIsIndlZWtEYXlzSGVhZGVyIiwicmVkdWNlIiwiXyIsIndkIiwidGgiLCJ0ZXh0Q29udGVudCIsIndlZWtEYXlzQWJicmV2IiwieWVhciIsIm1vbnRoIiwic3RhcnREYXkiLCJnZXREYXkiLCJtYXhEYXlzIiwiZ2V0RGF0ZSIsIm9sZFRhYmxlcyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwicmVtb3ZlQ2hpbGQiLCJ0aGVUYWJsZSIsImNsb25lTm9kZSIsImFSb3ciLCJhQ2VsbCIsImNlbGxOdW0iLCJpbnNlcnRSb3ciLCJpbnNlcnRDZWxsIiwiZGF5TnVtIiwic2V0RGF0ZSIsInBhcnNlSW50IiwibW9udGhUZXh0IiwiZGF5VGV4dCIsImZha2VFdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsIm1pbiIsIm1heCIsInNlbGVjdGVkIiwibmFtZXNBcnJheSIsImFPcHRpb24iLCJjdXJOdW0iLCJ0aGVUZXh0IiwidGhlU2VsZWN0IiwidGV4dCIsImNoZWNrRGF0ZUlucHV0U3VwcG9ydCIsImlucHV0Iiwic2V0QXR0cmlidXRlIiwibm90QURhdGVWYWx1ZSIsImFkZENhbGVuZGFyRXh0ZW5kZXJUb0RhdGVJbnB1dHMiLCJkYXRlSW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJjYWxsIiwiZGF0ZUlucHV0IiwiY2xhc3NMaXN0IiwiYWRkIiwid2luZG93Iiwib3JpZW50YXRpb24iLCJldmVudCJdLCJtYXBwaW5ncyI6IkNBQUMsV0FDQyxZQUVBLFNBQVNBLGtCQUFrQkMsU0FBVUMsTUFDbkMsS0FBTUMsZUFBZ0JILG1CQUFtQixDQUN2QyxNQUFPLElBQUlBLGtCQUFpQkMsVUFFOUIsR0FBSUcsTUFBT0QsSUFFWEEsTUFBS0YsU0FBV0EsUUFDaEJFLE1BQUtFLFVBQVksSUFDakJGLE1BQUtHLFVBQVksSUFDakJILE1BQUtJLGFBQWUsR0FBSUMsS0FFeEJMLE1BQUtNLEtBQU8sV0FDVk4sS0FBS08sY0FBY1IsTUFBUUEsS0FBS1MsV0FDaENSLE1BQUtTLHVCQUF1QlYsTUFBUUEsS0FBS1csb0JBQ3pDVixNQUFLVyxrQkFDTFgsTUFBS1ksWUFJUFosTUFBS1csaUJBQW1CLFdBQ3RCLEdBQUlYLEtBQUtGLFNBQVNlLE1BQU8sQ0FDdkIsR0FBSUMsaUJBQWtCLEdBQUlULE1BQUtMLEtBQUtGLFNBQVNlLE1BQzdDLElBQUlSLEtBQUtVLE1BQU1mLEtBQUtGLFNBQVNlLFFBQVVDLGdCQUFnQkUsaUJBQW1CaEIsS0FBS0ksYUFBYVksZUFB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LFlBT3RCcEMsTUFBS21DLFdBQWEsV0FDaEIsR0FBSWtDLFdBQVlyRSxLQUFLSSxhQUFha0MsV0FBYSxDQUMvQyxJQUFJK0IsVUFBWSxHQUFJLENBQ2xCQSxVQUFZLElBQU1BLFVBR3BCLEdBQUlDLFNBQVV0RSxLQUFLSSxhQUFha0QsU0FDaEMsSUFBSWdCLFFBQVUsR0FBSSxDQUNoQkEsUUFBVSxJQUFNQSxRQUdsQnRFLEtBQUtGLFNBQVNlLE1BQVEsR0FBS2IsS0FBS0ksYUFBYTZCLGNBQWdCLElBQU1vQyxVQUFZLElBQU1DLFFBQVUsRUFHL0YsSUFBSUMsV0FBWXRELFNBQVN1RCxZQUFZLGdCQUNyQ0QsV0FBVUUsVUFBVSxTQUFVLEtBQU0sTUFDcEN6RSxNQUFLRixTQUFTNEUsY0FBY0gsV0FJOUJ2RSxNQUFLZ0Msa0JBQW9CLFNBQVUyQyxJQUFLQyxJQUFLQyxTQUFVQyxZQUNyRCxHQUFJQyxRQUNKLElBQUlDLE9BQ0osSUFBSUMsUUFFSixJQUFJQyxXQUFZakUsU0FBU0MsY0FBYyxTQUV2QyxLQUFLOEQsT0FBU0wsSUFBS0ssUUFBVUosSUFBS0ksU0FBVSxDQUMxQ0QsUUFBVTlELFNBQVNDLGNBQWMsU0FDakNnRSxXQUFVMUQsWUFBWXVELFFBRXRCLElBQUlELFdBQVksQ0FDZEcsUUFBVUgsV0FBV0UsT0FBU0wsU0FDekIsQ0FDTE0sUUFBVUQsT0FHWkQsUUFBUUksS0FBT0YsT0FDZkYsU0FBUWxFLE1BQVFtRSxNQUVoQixJQUFJQSxTQUFXSCxTQUFVLENBQ3ZCRSxRQUFRRixTQUFXLE1BSXZCLE1BQU9LLFdBR1RsRixNQUFLTSxPQUlQLFFBQVM4RSx5QkFDUCxHQUFJQyxPQUFRcEUsU0FBU0MsY0FBYyxRQUNuQ21FLE9BQU1DLGFBQWEsT0FBUSxPQUUzQixJQUFJQyxlQUFnQixZQUNwQkYsT0FBTUMsYUFBYSxRQUFTQyxjQUU1QixTQUFTRixNQUFNeEUsUUFBVTBFLGVBSTNCLFFBQVNDLGlDQUFpQ3pGLE1BRXhDLEdBQUkwRixZQUFheEUsU0FBU3lFLGlCQUFpQixxQ0FDeENDLFFBQVFDLEtBQUtILFdBQVksU0FBVUksV0FFcENoRyxpQkFBaUJnRyxVQUFXOUYsS0FFNUI4RixXQUFVQyxVQUFVQyxJQUFJLGFBTTVCLElBQUtYLCtCQUFrQ1ksUUFBT0MsY0FBZ0IsWUFBYSxDQUN6RVQsaUNBRUF2RSxVQUFTdUIsY0FBYyxRQUFRYixpQkFBaUIsWUFBYSxTQUFVdUUsT0FDckVWLG9DQUlKUSxPQUFPbkcsaUJBQW1CQSIsImZpbGUiOiJodG1sNS1zaW1wbGUtZGF0ZS1pbnB1dC1wb2x5ZmlsbC5taW4uanMifQ==