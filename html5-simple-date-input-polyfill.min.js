function CalendarExtender(theInput){if(!(this instanceof CalendarExtender)){return new CalendarExtender(theInput)}var self=this;this.theInput=theInput;this.container=null;this.theCalDiv=null;this.selectedDate=new Date;this.init=function(){this.getDateFromInput();this.createCal()};this.getDateFromInput=function(){if(this.theInput.value){var possibleNewDate=new Date(this.theInput.value);if(Date.parse(this.theInput.value)&&possibleNewDate.toDateString()!==this.selectedDate.toDateString()){this.selectedDate=possibleNewDate;return true}}return false};this.createCal=function(){this.container=document.createElement("div");this.container.className="calendarContainer";this.container.style.display="inline-block";this.theInput.parentNode.replaceChild(this.container,this.theInput);this.container.appendChild(this.theInput);this.theCalDiv=document.createElement("div");this.theCalDiv.className="calendar";this.theCalDiv.style.display="none";this.container.appendChild(this.theCalDiv);this.creathYearAndMonthSelects();this.createMonthTable();this.theInput.addEventListener("focus",function(){self.theCalDiv.style.display=""});this.theInput.addEventListener("mouseup",function(){self.theCalDiv.style.display=""});this.theInput.addEventListener("mousedown",function(){self.theCalDiv.style.display=""});this.theInput.addEventListener("keyup",function(){if(self.getDateFromInput()){self.updateSelecteds()}});document.addEventListener("click",function(e){if(e.target.parentNode!==self.container&&e.target.parentNode.parentNode!==self.container&&e.target.parentNode.parentNode!==self.theCalDiv){self.theCalDiv.style.display="none"}})};this.creathYearAndMonthSelects=function(){var yearSelect=this.createRangeSelect((new Date).getFullYear()-80,(new Date).getFullYear()+20,this.selectedDate.getFullYear());yearSelect.className="yearSelect";this.theCalDiv.appendChild(yearSelect);yearSelect.onchange=function(){self.selectedDate.setYear(this.value);self.selectDate();self.createMonthTable();self.theInput.focus()};var monthsNames=["January","February","March","April","May","June","July","August","September","October","November","December"];var monthSelect=this.createRangeSelect(0,11,this.selectedDate.getMonth(),monthsNames);monthSelect.className="monthSelect";this.theCalDiv.appendChild(monthSelect);monthSelect.onchange=function(){self.selectedDate.setMonth(this.value);self.selectDate();self.createMonthTable();self.theInput.focus()}};this.updateSelecteds=function(){this.theCalDiv.querySelector(".yearSelect").value=this.selectedDate.getFullYear();this.theCalDiv.querySelector(".monthSelect").value=this.selectedDate.getMonth();this.createMonthTable()};this.createMonthTable=function(){var year=this.selectedDate.getFullYear();var month=this.selectedDate.getMonth();var startDay=new Date(year,month,1).getDay();var maxDays=new Date(this.selectedDate.getFullYear(),month+1,0).getDate();var oldTables=this.theCalDiv.getElementsByTagName("table");if(oldTables.length>0){this.theCalDiv.removeChild(oldTables[0])}var theTable=document.createElement("table");theTable.innerHTML="<tr><th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th></tr>";this.theCalDiv.appendChild(theTable);var aRow;var aCell;for(var cellNum=0;cellNum<maxDays+startDay;cellNum++){if(cellNum%7===0){aRow=theTable.insertRow(-1)}aCell=aRow.insertCell(-1);if(cellNum+1>startDay){var dayNum=cellNum+1-startDay;aCell.innerHTML=dayNum;if(dayNum===this.selectedDate.getDate()){aCell.className="selected"}aCell.addEventListener("click",function(){self.theCalDiv.querySelector(".selected").className="";this.className="selected";self.selectedDate.setDate(parseInt(this.innerHTML));self.selectDate();self.theInput.focus()})}}};this.selectDate=function(){var monthText=this.selectedDate.getMonth()+1;if(monthText<10){monthText="0"+monthText}var dayText=this.selectedDate.getDate();if(dayText<10){dayText="0"+dayText}this.theInput.value=""+this.selectedDate.getFullYear()+"-"+monthText+"-"+dayText+"";var fakeEvent=document.createEvent("KeyboardEvent");fakeEvent.initEvent("change",true,false);this.theInput.dispatchEvent(fakeEvent)};this.createRangeSelect=function(min,max,selected,namesArray){var aOption;var curNum;var theText;var theSelect=document.createElement("select");for(curNum=min;curNum<=max;curNum++){aOption=document.createElement("option");theSelect.appendChild(aOption);if(namesArray){theText=namesArray[curNum-min]}else{theText=curNum}aOption.text=theText;aOption.value=curNum;if(curNum===selected){aOption.selected=true}}return theSelect};this.init()}function checkDateInputSupport(){var input=document.createElement("input");input.setAttribute("type","date");var notADateValue="not-a-date";input.setAttribute("value",notADateValue);return!(input.value===notADateValue)}function addCalendarExtenderToDateInputs(){var dateInputs=document.querySelectorAll("input[type=date]:not(.haveCal)");[].forEach.call(dateInputs,function(dateInput){CalendarExtender(dateInput);dateInput.classList.add("haveCal")})}if(!checkDateInputSupport()&&typeof window.orientation==="undefined"){addCalendarExtenderToDateInputs();document.querySelector("body").addEventListener("mousedown",function(event){addCalendarExtenderToDateInputs()})}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWw1LXNpbXBsZS1kYXRlLWlucHV0LXBvbHlmaWxsLmpzIl0sIm5hbWVzIjpbIkNhbGVuZGFyRXh0ZW5kZXIiLCJ0aGVJbnB1dCIsInRoaXMiLCJzZWxmIiwiY29udGFpbmVyIiwidGhlQ2FsRGl2Iiwic2VsZWN0ZWREYXRlIiwiRGF0ZSIsImluaXQiLCJnZXREYXRlRnJvbUlucHV0IiwiY3JlYXRlQ2FsIiwidmFsdWUiLCJwb3NzaWJsZU5ld0RhdGUiLCJwYXJzZSIsInRvRGF0ZVN0cmluZyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInN0eWxlIiwiZGlzcGxheSIsInBhcmVudE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsImNyZWF0aFllYXJBbmRNb250aFNlbGVjdHMiLCJjcmVhdGVNb250aFRhYmxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVwZGF0ZVNlbGVjdGVkcyIsImUiLCJ0YXJnZXQiLCJ5ZWFyU2VsZWN0IiwiY3JlYXRlUmFuZ2VTZWxlY3QiLCJnZXRGdWxsWWVhciIsIm9uY2hhbmdlIiwic2V0WWVhciIsInNlbGVjdERhdGUiLCJmb2N1cyIsIm1vbnRoc05hbWVzIiwibW9udGhTZWxlY3QiLCJnZXRNb250aCIsInNldE1vbnRoIiwicXVlcnlTZWxlY3RvciIsInllYXIiLCJtb250aCIsInN0YXJ0RGF5IiwiZ2V0RGF5IiwibWF4RGF5cyIsImdldERhdGUiLCJvbGRUYWJsZXMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsInJlbW92ZUNoaWxkIiwidGhlVGFibGUiLCJpbm5lckhUTUwiLCJhUm93IiwiYUNlbGwiLCJjZWxsTnVtIiwiaW5zZXJ0Um93IiwiaW5zZXJ0Q2VsbCIsImRheU51bSIsInNldERhdGUiLCJwYXJzZUludCIsIm1vbnRoVGV4dCIsImRheVRleHQiLCJmYWtlRXZlbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJtaW4iLCJtYXgiLCJzZWxlY3RlZCIsIm5hbWVzQXJyYXkiLCJhT3B0aW9uIiwiY3VyTnVtIiwidGhlVGV4dCIsInRoZVNlbGVjdCIsInRleHQiLCJjaGVja0RhdGVJbnB1dFN1cHBvcnQiLCJpbnB1dCIsInNldEF0dHJpYnV0ZSIsIm5vdEFEYXRlVmFsdWUiLCJhZGRDYWxlbmRhckV4dGVuZGVyVG9EYXRlSW5wdXRzIiwiZGF0ZUlucHV0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiY2FsbCIsImRhdGVJbnB1dCIsImNsYXNzTGlzdCIsImFkZCIsIndpbmRvdyIsIm9yaWVudGF0aW9uIiwiZXZlbnQiXSwibWFwcGluZ3MiOiJBQUFBLFFBQVNBLGtCQUFrQkMsVUFDekIsS0FBTUMsZUFBZ0JGLG1CQUFtQixDQUN2QyxNQUFPLElBQUlBLGtCQUFpQkMsVUFFOUIsR0FBSUUsTUFBT0QsSUFFWEEsTUFBS0QsU0FBV0EsUUFDaEJDLE1BQUtFLFVBQVksSUFDakJGLE1BQUtHLFVBQVksSUFDakJILE1BQUtJLGFBQWUsR0FBSUMsS0FFeEJMLE1BQUtNLEtBQU8sV0FDVk4sS0FBS08sa0JBQ0xQLE1BQUtRLFlBSVBSLE1BQUtPLGlCQUFtQixXQUN0QixHQUFJUCxLQUFLRCxTQUFTVSxNQUFPLENBQ3ZCLEdBQUlDLGlCQUFrQixHQUFJTCxNQUFLTCxLQUFLRCxTQUFTVSxNQUM3QyxJQUFJSixLQUFLTSxNQUFNWCxLQUFLRCxTQUFTVSxRQUFVQyxnQkFBZ0JFLGlCQUFtQlosS0FBS0ksYUFBYVEsZUFBZ0IsQ0FDMUdaLEtBQUtJLGFBQWVNLGVBQ3BCLE9BQU8sT0FHWCxNQUFPLE9BSVRWLE1BQUtRLFVBQVksV0FFZlIsS0FBS0UsVUFBWVcsU0FBU0MsY0FBYyxNQUN4Q2QsTUFBS0UsVUFBVWEsVUFBWSxtQkFDM0JmLE1BQUtFLFVBQVVjLE1BQU1DLFFBQVUsY0FDL0JqQixNQUFLRCxTQUFTbUIsV0FBV0MsYUFBYW5CLEtBQUtFLFVBQVdGLEtBQUtELFNBQzNEQyxNQUFLRSxVQUFVa0IsWUFBWXBCLEtBQUtELFNB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LE9BQ2ZGLFNBQVE1RCxNQUFRNkQsTUFFaEIsSUFBSUEsU0FBV0gsU0FBVSxDQUN2QkUsUUFBUUYsU0FBVyxNQUl2QixNQUFPSyxXQUdUeEUsTUFBS00sT0FJUCxRQUFTb0UseUJBQ1AsR0FBSUMsT0FBUTlELFNBQVNDLGNBQWMsUUFDbkM2RCxPQUFNQyxhQUFhLE9BQVEsT0FFM0IsSUFBSUMsZUFBZ0IsWUFDcEJGLE9BQU1DLGFBQWEsUUFBU0MsY0FFNUIsU0FBU0YsTUFBTWxFLFFBQVVvRSxlQUkzQixRQUFTQyxtQ0FFUCxHQUFJQyxZQUFhbEUsU0FBU21FLGlCQUFpQixxQ0FDeENDLFFBQVFDLEtBQUtILFdBQVksU0FBVUksV0FFcENyRixpQkFBaUJxRixVQUVqQkEsV0FBVUMsVUFBVUMsSUFBSSxhQU01QixJQUFLWCwrQkFBa0NZLFFBQU9DLGNBQWdCLFlBQWEsQ0FDekVULGlDQUVBakUsVUFBU3lCLGNBQWMsUUFBUWYsaUJBQWlCLFlBQWEsU0FBVWlFLE9BQ3JFViIsImZpbGUiOiJodG1sNS1zaW1wbGUtZGF0ZS1pbnB1dC1wb2x5ZmlsbC5taW4uanMifQ==